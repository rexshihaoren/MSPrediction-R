# get modified-fam2
modfam2<-read.csv("step3/data_all.csv")
# only 5 cols, group1~3, relative-pain, enjoylife
modfam2<-modfam2[,9:13]
# fetch original fam2
load("step1/result.RData")
# get rid visitID
fam2<-fam2[,-1]
medianEL<- median(modfam2$EnjoyLife)
# binarize the modfam2, fam2
modfam2$EnjoyLife<-modfam2$EnjoyLife[modfam2$EnjoyLife > medianEL]
medianEL
modfam2$EnjoyLife<-ifelse(modfam2$EnjoyLife <= medianEL, 0, 1)
mf<-ggplot(modfam2, aes(x=EnjoyLife))
mf + geom_histogram()
mf<-ggplot(modfam2, aes(x=EnjoyLife))
mf + geom_histogram()
mf<-ggplot(modfam2, aes(x=EnjoyLife))
require(ggplot)
require(ggplot2)
mf<-ggplot(modfam2, aes(x=EnjoyLife))
mf + geom_histogram()
setwd("~/Dropbox/research/MSBioScreen/MSPrediction-R/Data Scripts")
# get modified-fam2
require(ggplot2)
modfam2<-read.csv("step3/data_all.csv")
# only 5 cols, group1~3, relative-pain, enjoylife
modfam2<-modfam2[,9:13]
# fetch original fam2
load("step1/result.RData")
# get rid visitID
fam2<-fam2[,-1]
# plotting PDF
mf<-ggplot(modfam2, aes(x=EnjoyLife))
mf + geom_histogram()
ggsave(file="modfam2.pdf")
f<-ggplot(fam2,aes(x=EnjoyLife))
f + geom_histogram()
ggsave(file="fam2.pdf")
# find the enjoy life median
medianEL<- median(modfam2$EnjoyLife)
# binarize the modfam2, fam2
modfam2$EnjoyLife<-ifelse(modfam2$EnjoyLife <= medianEL, 0, 1)
fam2$EnjoyLife<-ifelse(fam2$EnjoyLife <= medianEL, 0, 1)
# Plot PDF after binarize
mf<-ggplot(modfam2, aes(x=EnjoyLife))
mf + geom_histogram()
ggsave(file="bin_modfam2.pdf")
f<-ggplot(fam2,aes(x=EnjoyLife))
f + geom_histogram()
ggsave(file="bin_fam2.pdf")
#save binarized fam2,modfam2
save(fam2, file="bin_fam2.RData")
save(modfam2, file="bin_modfam2.RData")
ggplot(modfam2) + geom_density(aes(x=Group1, group = EnjoyLife, color = EnjoyLife))
ggplot(modfam2) + geom_density(aes(x=group1, group = EnjoyLife, color = EnjoyLife))
ggplot(modfam2) + geom_histogram(aes(x=EnjoyLife))
ggplot(fam2) + geom_histogram(aes(x=EnjoyLife, color = EnjoyLife))
ggplot(fam2) + geom_histogram(aes(x=EnjoyLife, color = EnjoyLife))
ggplot(fam2) + geom_histogram(aes(x=EnjoyLife))
rnames(fam2)
rownames(fam2)
colnames(fam2)
colnames(fam2)[1]
ggplot(modfam2) + geom_density(aes(x=group1, group = EnjoyLife, color = EnjoyLife))
ggplot(modfam2) + geom_density(aes(x=modfam2[1], group = EnjoyLife, color = EnjoyLife))
ggplot(modfam2) + geom_density(aes(x=group1, group = EnjoyLife, color = EnjoyLife))
?unique
fam2$name
unique(fam2$name)
summary(fam2)
lapply(colnames(modfam2[1:4]), function(i) ggplot(modfam2,aes_string(x=i,group ="EnjoyLife", color = "Enjoylife")))
lapply(colnames(modfam2[1:4]), function(i) ggplot(modfam2,aes_string(x=i,group ="EnjoyLife", color = "Enjoylife")) + geom_density())
lapply(colnames(modfam2[1:4]), function(i) ggplot(modfam2,aes_string(x=i,group ="EnjoyLife", color = "EnjoyLife")) + geom_density())
lapply(colnames(modfam2[1:4]), function(i) ggplot(modfam2,aes_string(x=i,group ="EnjoyLife", color = "EnjoyLife")) + geom_density() + ggsave(file= "modfam2cdf_"+i))
lapply(colnames(modfam2[1:4]), function(i) ggplot(modfam2,aes_string(x=i,group ="EnjoyLife", color = "EnjoyLife")) + geom_density())
lapply(colnames(modfam2[1:4]), function(i) ggplot(modfam2,aes_string(x=i,group ="EnjoyLife", color = "EnjoyLife")) + geom_density() + ggsave(file= paste("modfam2cdf_",i)))
?function
()
lapply(colnames(modfam2[1:4]), function(i) (ggplot(modfam2,aes_string(x=i,group ="EnjoyLife", color = "EnjoyLife")) + geom_density() + ggsave(file= paste("modfam2cdf_",i))))
lapply(colnames(modfam2[1:4]), function(i) ggplot(modfam2,aes_string(x=i,group ="EnjoyLife", color = "EnjoyLife")) + geom_density() + ggsave(file= paste("modfam2cdf_",i)))
name(modfam2)
deparse(substitute(modfam2))
substitute(modfam2)
?substitute
paste("x","u","j")
paste("x","u","j", sep = "_")
generateCDF<-function(somedf){
dfname = deparse(substitute(somedf))
for (i in colnames(somedf)){
if (i != "EnjoyLife"){
ggplot(somedf) + geom_density(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife"))
ggsave(file = paste(dfname, "cdf",i, sep = '_'))
}
}
}
generateCDF(modfam2)
generateCDF<-function(somedf){
dfname = deparse(substitute(somedf))
for (i in colnames(somedf)){
if (i != "EnjoyLife"){
ggplot(somedf) + geom_density(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife"))
ggsave(file = paste(dfname, "cdf",i, sep = '_'))
}
}
}
generateCDF(modfam2)
generateCDF<-function(somedf){
dfname = deparse(substitute(somedf))
for (i in colnames(somedf)){
if (i != "EnjoyLife"){
ggplot(somedf) + geom_density(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife"))
ggsave(file = paste(dfname, "cdf",i, sep = "_"))
}
}
}
generateCDF(modfam2)
generateCDF<-function(somedf){
dfname = deparse(substitute(somedf))
for (i in colnames(somedf)){
if (i != "EnjoyLife"){
ggplot(somedf) + geom_density(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife"))
fpath = (paste(dfname, "cdf",i, sep = "_"), ".pdf")
ggsave(file = fpath)
}
}
}
generateCDF(modfam2)
generateCDF<-function(somedf){
dfname = deparse(substitute(somedf))
for (i in colnames(somedf)){
if (i != "EnjoyLife"){
ggplot(somedf) + geom_density(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife"))
fpath = paste(paste(dfname, "cdf",i, sep = "_"), ".pdf")
ggsave(file = fpath)
}
}
}
generateCDF(modfam2)
generateCDF<-function(somedf){
dfname = deparse(substitute(somedf))
for (i in colnames(somedf)){
if (i != "EnjoyLife"){
ggplot(somedf) + geom_density(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife"))
fpath = paste(paste(dfname, "cdf",i, sep = "_"), ".pdf", spe='')
ggsave(file = fpath)
}
}
}
generateCDF(modfam2)
generateCDF<-function(somedf){
dfname = deparse(substitute(somedf))
for (i in colnames(somedf)){
if (i != "EnjoyLife"){
ggplot(somedf) + geom_density(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife"))
fpath = paste(paste(dfname, "cdf",i, sep = "_"), ".pdf", sep="")
ggsave(file = fpath)
}
}
}
generateCDF(modfam2)
generateCDF<-function(somedf){
dfname = deparse(substitute(somedf))
for (i in colnames(somedf)){
if (i != "EnjoyLife"){
ggplot(somedf) + geom_density(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife"))
fpath = paste("CDFs/",paste(dfname, "cdf",i, sep = "_"), ".pdf", sep="")
ggsave(file = fpath)
}
}
}
generateCDF(modfam2)
generateCDF<-function(somedf){
dfname = deparse(substitute(somedf))
for (i in colnames(somedf)){
if (i != "EnjoyLife"){
ggplot(somedf) + geom_density(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife"))
fpath = paste("CDFs/",paste(dfname, "cdf",i, sep = "_"), ".pdf", sep="")
ggsave(file = fpath)
}
}
}
generateCDF(modfam2)
setwd("~/Dropbox/research/MSBioScreen/MSPrediction-R/Data Scripts")
# get modified-fam2
require(ggplot2)
modfam2<-read.csv("step3/data_all.csv")
# only 5 cols, group1~3, relative-pain, enjoylife
modfam2<-modfam2[,9:13]
# fetch original fam2
load("step1/result.RData")
# get rid visitID
fam2<-fam2[,-1]
# plotting PDF
ggplot(modfam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/modfam2.pdf")
ggplot(fam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/fam2.pdf")
# find the enjoy life median
medianEL<- median(modfam2$EnjoyLife)
# binarize the modfam2, fam2
modfam2$EnjoyLife<-ifelse(modfam2$EnjoyLife <= medianEL, 0, 1)
fam2$EnjoyLife<-ifelse(fam2$EnjoyLife <= medianEL, 0, 1)
# Plot PDF after binarize
ggplot(modfam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/bin_modfam2.pdf")
ggplot(fam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/bin_fam2.pdf")
#save binarized fam2,modfam2
save(fam2, file="data/bin_fam2.RData")
save(modfam2, file="data/bin_modfam2.RData")
# Plot CDF
generateCDF<-function(somedf){
dfname = deparse(substitute(somedf))
for (i in colnames(somedf)){
if (i != "EnjoyLife"){
ggplot(somedf) + geom_density(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife"))
fpath = paste("plots/",paste(dfname, "cdf",i, sep = "_"), ".pdf", sep="")
ggsave(file = fpath)
}
}
}
generateCDF(modfam2)
generateCDF(fam2)
setwd("~/Dropbox/research/MSBioScreen/MSPrediction-R/Data Scripts")
# get modified-fam2
require(ggplot2)
modfam2<-read.csv("step3/data_all.csv")
# only 5 cols, group1~3, relative-pain, enjoylife
modfam2<-modfam2[,9:13]
# fetch original fam2
load("step1/result.RData")
# get rid visitID
fam2<-fam2[,-1]
# plotting PDF
ggplot(modfam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/modfam2.pdf")
ggplot(fam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/fam2.pdf")
# find the enjoy life median
medianEL<- median(modfam2$EnjoyLife)
# binarize the modfam2, fam2
modfam2$EnjoyLife<-ifelse(modfam2$EnjoyLife <= medianEL, 0, 1)
fam2$EnjoyLife<-ifelse(fam2$EnjoyLife <= medianEL, 0, 1)
# Plot PDF after binarize
ggplot(modfam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/bin_modfam2.pdf")
ggplot(fam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/bin_fam2.pdf")
#save binarized fam2,modfam2
save(fam2, file="data/bin_fam2.RData")
save(modfam2, file="data/bin_modfam2.RData")
# Plot CDF
generateCDF<-function(somedf){
dfname = deparse(substitute(somedf))
for (i in colnames(somedf)){
if (i != "EnjoyLife"){
ggplot(somedf) + geom_density(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife"))
fpath = paste("plots/",paste(dfname, "cdf",i, sep = "_"), ".pdf", sep="")
ggsave(file = fpath)
}
}
}
generateCDF(modfam2)
generateCDF(fam2)
str(modfam2)
str(fam2)
setwd("~/Dropbox/research/MSBioScreen/MSPrediction-R/Data Scripts")
# get modified-fam2
require(ggplot2)
modfam2<-read.csv("step3/data_all.csv")
# only 5 cols, group1~3, relative-pain, enjoylife
modfam2<-modfam2[,9:13]
# fetch original fam2
load("step1/result.RData")
# get rid visitID
fam2<-fam2[,-1]
# plotting PDF
ggplot(modfam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/modfam2.pdf")
ggplot(fam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/fam2.pdf")
# find the enjoy life median
medianEL<- median(modfam2$EnjoyLife)
# binarize the modfam2, fam2
modfam2$EnjoyLife<-ifelse(modfam2$EnjoyLife <= medianEL, 0, 1)
fam2$EnjoyLife<-ifelse(fam2$EnjoyLife <= medianEL, 0, 1)
# Plot PDF after binarize
ggplot(modfam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/bin_modfam2.pdf")
ggplot(fam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/bin_fam2.pdf")
#save binarized fam2,modfam2
save(fam2, file="data/bin_fam2.RData")
save(modfam2, file="data/bin_modfam2.RData")
# Plot CDF
generateCDF<-function(somedf, plotfunc){
dfname = deparse(substitute(somedf))
for (i in colnames(somedf)){
if (i != "EnjoyLife"){
ggplot(somedf) + plotfunc(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife"))
fpath = paste("plots/",paste(dfname, "cdf",i, sep = "_"), ".pdf", sep="")
ggsave(file = fpath)
}
}
}
generateCDF(modfam2,geom_density)
generateCDF(fam2, geom_histogram)
str(fam2)
setwd("~/Dropbox/research/MSBioScreen/MSPrediction-R/Data Scripts")
# get modified-fam2
require(ggplot2)
modfam2<-read.csv("step3/data_all.csv")
# only 5 cols, group1~3, relative-pain, enjoylife
modfam2<-modfam2[,9:13]
# fetch original fam2
load("step1/result.RData")
# get rid visitID
fam2<-fam2[,-1]
# plotting PDF
ggplot(modfam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/modfam2.pdf")
ggplot(fam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/fam2.pdf")
# find the enjoy life median
medianEL<- median(modfam2$EnjoyLife)
# binarize the modfam2, fam2
modfam2$EnjoyLife<-ifelse(modfam2$EnjoyLife <= medianEL, 0, 1)
fam2$EnjoyLife<-ifelse(fam2$EnjoyLife <= medianEL, 0, 1)
# Plot PDF after binarize
ggplot(modfam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/bin_modfam2.pdf")
ggplot(fam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/bin_fam2.pdf")
#save binarized fam2,modfam2
save(fam2, file="data/bin_fam2.RData")
save(modfam2, file="data/bin_modfam2.RData")
# Plot CDF
generateCDF<-function(somedf, plotfunc){
dfname = deparse(substitute(somedf))
for (i in colnames(somedf)){
if (i != "EnjoyLife"){
ggplot(somedf) + plotfunc(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife", position = "dodge"))
fpath = paste("plots/",paste(dfname, "cdf",i, sep = "_"), ".pdf", sep="")
ggsave(file = fpath)
}
}
}
generateCDF(modfam2,geom_density)
generateCDF(fam2, geom_histogram)
setwd("~/Dropbox/research/MSBioScreen/MSPrediction-R/Data Scripts")
# get modified-fam2
require(ggplot2)
modfam2<-read.csv("step3/data_all.csv")
# only 5 cols, group1~3, relative-pain, enjoylife
modfam2<-modfam2[,9:13]
# fetch original fam2
load("step1/result.RData")
# get rid visitID
fam2<-fam2[,-1]
# plotting PDF
ggplot(modfam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/modfam2.pdf")
ggplot(fam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/fam2.pdf")
# find the enjoy life median
medianEL<- median(modfam2$EnjoyLife)
# binarize the modfam2, fam2
modfam2$EnjoyLife<-ifelse(modfam2$EnjoyLife <= medianEL, 0, 1)
fam2$EnjoyLife<-ifelse(fam2$EnjoyLife <= medianEL, 0, 1)
# Plot PDF after binarize
ggplot(modfam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/bin_modfam2.pdf")
ggplot(fam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/bin_fam2.pdf")
#save binarized fam2,modfam2
save(fam2, file="data/bin_fam2.RData")
save(modfam2, file="data/bin_modfam2.RData")
# Plot CDF
generateCDF<-function(somedf, plotfunc){
dfname = deparse(substitute(somedf))
for (i in colnames(somedf)){
if (i != "EnjoyLife"){
if (plotfunc == geom_density){
ggplot(somedf) + plotfunc(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife"))
} else {
ggplot(somedf) + plotfunc(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife", position = "dodge"))
}
fpath = paste("plots/",paste(dfname, "cdf",i, sep = "_"), ".pdf", sep="")
ggsave(file = fpath)
}
}
}
generateCDF(modfam2,geom_density)
generateCDF(fam2, geom_histogram)
setwd("~/Dropbox/research/MSBioScreen/MSPrediction-R/Data Scripts")
# get modified-fam2
require(ggplot2)
modfam2<-read.csv("step3/data_all.csv")
# only 5 cols, group1~3, relative-pain, enjoylife
modfam2<-modfam2[,9:13]
# fetch original fam2
load("step1/result.RData")
# get rid visitID
fam2<-fam2[,-1]
# plotting PDF
ggplot(modfam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/modfam2.pdf")
ggplot(fam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/fam2.pdf")
# find the enjoy life median
medianEL<- median(modfam2$EnjoyLife)
# binarize the modfam2, fam2
modfam2$EnjoyLife<-ifelse(modfam2$EnjoyLife <= medianEL, 0, 1)
fam2$EnjoyLife<-ifelse(fam2$EnjoyLife <= medianEL, 0, 1)
# Plot PDF after binarize
ggplot(modfam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/bin_modfam2.pdf")
ggplot(fam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/bin_fam2.pdf")
#save binarized fam2,modfam2
save(fam2, file="data/bin_fam2.RData")
save(modfam2, file="data/bin_modfam2.RData")
# Plot CDF
generateCDF<-function(somedf, plotfunc){
dfname = deparse(substitute(somedf))
pfname = deparse(substitute(plotfunc))
for (i in colnames(somedf)){
if (i != "EnjoyLife"){
if (pfname == "geom_density"){
ggplot(somedf) + plotfunc(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife"))
} else {
ggplot(somedf) + plotfunc(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife", position = "dodge"))
}
fpath = paste("plots/",paste(dfname, "cdf",i, sep = "_"), ".pdf", sep="")
ggsave(file = fpath)
}
}
}
generateCDF(modfam2,geom_density)
generateCDF(fam2, geom_histogram)
ggplot(modfam2) + plotfunc(aes_string(x=group1, group = "EnjoyLife", color = "EnjoyLife", position = "dodge"))
ggplot(modfam2) + geom_histogram(aes_string(x=group1, group = "EnjoyLife", color = "EnjoyLife", position = "dodge"))
str(modfam2)
ggplot(modfam2) + geom_histogram(aes_string(x="group1", group = "EnjoyLife", color = "EnjoyLife", position = "dodge"))
ggplot(modfam2) + geom_bar(aes_string(x="group1", group = "EnjoyLife", color = "EnjoyLife", position = "dodge"))
ggplot(modfam2) + geom_bar(aes_string(x="group1", group = "EnjoyLife", color = "EnjoyLife", position = "fill"))
ggplot(modfam2) + geom_bar(aes_string(x="group1", group = "EnjoyLife", color = "EnjoyLife"), position = "fill")
ggplot(modfam2) + geom_bar(aes_string(x="group1", group = "EnjoyLife", color = "EnjoyLife"), position = "dodge")
ggplot(modfam2) + geom_histogram(aes_string(x="group1", group = "EnjoyLife", color = "EnjoyLife"), position = "dodge")
ggplot(modfam2) + geom_histogram(aes_string(x="group1", group = "EnjoyLife"), position = "dodge")
ggplot(modfam2) + geom_histogram(aes_string(x="group1", group = "EnjoyLife", color = "EnjoyLife"), position = "dodge")
ggplot(modfam2) + geom_histogram(aes_string(x="group1", group = "EnjoyLife", color = "EnjoyLife", fill ="cut"), position = "dodge")
ggplot(modfam2) + geom_histogram(aes_string(x="group1", group = "EnjoyLife", color = "EnjoyLife", fill ="cut"), position = "fill")
ggplot(modfam2) + geom_histogram(aes_string(x="group1", group = "EnjoyLife", color = "EnjoyLife", fill ="cut"))
ggplot(modfam2) + geom_histogram(aes_string(x="group1", group = "EnjoyLife", color = "EnjoyLife", fill ="cut"), fill="cut",position = "fill")
ggplot(modfam2) + geom_histogram(aes_string(x="group1", group = "EnjoyLife", color = "EnjoyLife", fill ="cut"),position = "fill")
ggplot(fam2) + geom_histogram(aes_string(x="group1", group = "EnjoyLife", color = "EnjoyLife", fill ="cut"),position = "fill")
ggplot(fam2) + geom_histogram(aes_string(x="group1", group = "EnjoyLife", color = "EnjoyLife", fill ="cut"),position = "fill")
ggplot(fam2) + geom_histogram(aes_string(x="NeedRest", group = "EnjoyLife", color = "EnjoyLife", fill ="cut"),position = "fill")
ggplot(fam2) + geom_histogram(aes_string(x="NeedRest", group = "EnjoyLife", color = "EnjoyLife"),position = "fill")
ggplot(fam2) + geom_histogram(aes_string(x="NeedRest", group = "EnjoyLife", color = "EnjoyLife", fill ="cut"),position = "fill")
ggplot(fam2) + geom_histogram(aes_string(x="NeedRest", group = "EnjoyLife", fill = "EnjoyLife"),position = "fill")
ggplot(fam2) + geom_histogram(aes_string(x="NeedRest", group = "EnjoyLife", fill = "EnjoyLife"),position = "dodge")
ggplot(fam2) + geom_histogram(aes_string(x="NeedRest", group = "EnjoyLife", fill = "EnjoyLife",position = "dodge"))
ggplot(fam2) + geom_histogram(aes_string(x="NeedRest", group = "EnjoyLife", fill = "EnjoyLife"),position = "dodge")
setwd("~/Dropbox/research/MSBioScreen/MSPrediction-R/Data Scripts")
# get modified-fam2
require(ggplot2)
modfam2<-read.csv("step3/data_all.csv")
# only 5 cols, group1~3, relative-pain, enjoylife
modfam2<-modfam2[,9:13]
# fetch original fam2
load("step1/result.RData")
# get rid visitID
fam2<-fam2[,-1]
# plotting PDF
ggplot(modfam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/modfam2.pdf")
ggplot(fam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/fam2.pdf")
# find the enjoy life median
medianEL<- median(modfam2$EnjoyLife)
# binarize the modfam2, fam2
modfam2$EnjoyLife<-ifelse(modfam2$EnjoyLife <= medianEL, 0, 1)
fam2$EnjoyLife<-ifelse(fam2$EnjoyLife <= medianEL, 0, 1)
# Plot PDF after binarize
ggplot(modfam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/bin_modfam2.pdf")
ggplot(fam2) + geom_histogram(aes(x=EnjoyLife))
ggsave(file="plots/bin_fam2.pdf")
#save binarized fam2,modfam2
save(fam2, file="data/bin_fam2.RData")
save(modfam2, file="data/bin_modfam2.RData")
# Plot CDF
generateCDF<-function(somedf, plotfunc){
dfname = deparse(substitute(somedf))
pfname = deparse(substitute(plotfunc))
for (i in colnames(somedf)){
if (i != "EnjoyLife"){
if (pfname == "geom_density"){
ggplot(somedf) + plotfunc(aes_string(x=i, group = "EnjoyLife", color = "EnjoyLife"))
} else {
ggplot(somedf) + plotfunc(aes_string(x=i, group = "EnjoyLife", fill = "EnjoyLife"), position = "dodge")
}
fpath = paste("plots/",paste(dfname, "cdf",i, sep = "_"), ".pdf", sep="")
ggsave(file = fpath)
}
}
}
generateCDF(modfam2,geom_density)
generateCDF(fam2, geom_histogram)
